# FlightPriceTracker

macOS æ¡Œé¢å°å·¥å…·ï¼Œè¿½è¹¤å°åŒ—åˆ°æ­æ´²èˆªç·šçš„æ©Ÿç¥¨åƒ¹æ ¼ã€‚

## åŠŸèƒ½ç‰¹è‰²

- ç›£æ§ 5 æ¢èˆªç·šï¼šå°åŒ— â†’ ç¾…é¦¬ã€å·´é»ã€è˜‡é»ä¸–ã€å€«æ•¦ã€é›·å…‹é›…ç¶­å…‹
- æ¯æ—¥ 12:00 / 18:00 è‡ªå‹•æŸ¥è©¢
- é¡¯ç¤ºåƒ¹æ ¼æ¼²è·Œå¹…ï¼ˆç¶ è‰²è·Œ/ç´…è‰²æ¼²ï¼‰
- è·Œå¹…è¶…é 5% æ¨é€é€šçŸ¥ ğŸ””
- Widget æ”¯æ´ Small / Medium / Large ä¸‰ç¨®å°ºå¯¸

## ç³»çµ±éœ€æ±‚

- macOS 12.0+
- Xcode 14.0+
- [SerpApi](https://serpapi.com/) å¸³è™Ÿï¼ˆä»˜è²»æ–¹æ¡ˆï¼‰

## å®‰è£æ­¥é©Ÿ

### 1. å»ºç«‹ Xcode å°ˆæ¡ˆ

```bash
# è¤‡è£½å°ˆæ¡ˆ
git clone https://github.com/laihenyi/FlightPriceTracker.git
cd FlightPriceTracker
```

åœ¨ Xcode ä¸­ï¼š
1. File â†’ New â†’ Project
2. é¸æ“‡ macOS â†’ App
3. Product Name: `FlightPriceTracker`
4. å‹¾é¸ "Include Widget Extension"

### 2. è¨­å®š App Group

1. é¸æ“‡å°ˆæ¡ˆ â†’ Signing & Capabilities
2. é»æ“Š "+ Capability" æ·»åŠ  "App Groups"
3. æ–°å¢ App Group ID: `group.com.flightpricetracker`
4. å° Widget Extension é‡è¤‡ä»¥ä¸Šæ­¥é©Ÿ

### 3. æ·»åŠ åŸå§‹ç¢¼

å°‡ä»¥ä¸‹è³‡æ–™å¤¾ä¸­çš„æª”æ¡ˆæ·»åŠ åˆ°å°æ‡‰çš„ Targetï¼š

| è³‡æ–™å¤¾ | Target |
|--------|--------|
| `Shared/` | App + Widget (å…©è€…éƒ½è¦) |
| `FlightPriceTracker/` | App |
| `FlightWidget/` | Widget Extension |

### 4. è¨­å®š API Key

1. åŸ·è¡Œ App
2. é»æ“Šå³ä¸Šè§’é½’è¼ªåœ–ç¤º
3. è¼¸å…¥ä½ çš„ SerpApi API Key
4. é»æ“Šã€Œå„²å­˜ã€

## æª”æ¡ˆçµæ§‹

```
FlightPriceTracker/
â”œâ”€â”€ Shared/                          # å…±ç”¨æ¨¡çµ„
â”‚   â”œâ”€â”€ Models/
â”‚   â”‚   â”œâ”€â”€ FlightRoute.swift        # èˆªç·šæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ FlightPrice.swift        # åƒ¹æ ¼æ¨¡å‹
â”‚   â”‚   â””â”€â”€ PriceChange.swift        # æ¼²è·Œè¨ˆç®—
â”‚   â”œâ”€â”€ Services/
â”‚   â”‚   â”œâ”€â”€ SerpApiService.swift     # API è«‹æ±‚
â”‚   â”‚   â””â”€â”€ NotificationService.swift # æ¨é€é€šçŸ¥
â”‚   â””â”€â”€ Storage/
â”‚       â””â”€â”€ DataStore.swift          # App Group å„²å­˜
â”œâ”€â”€ FlightPriceTracker/              # ä¸» App
â”‚   â”œâ”€â”€ FlightPriceTrackerApp.swift
â”‚   â””â”€â”€ Views/
â”‚       â”œâ”€â”€ ContentView.swift        # ä¸»é é¢
â”‚       â”œâ”€â”€ SettingsView.swift       # è¨­å®šé é¢
â”‚       â””â”€â”€ RouteEditorView.swift    # èˆªç·šç·¨è¼¯
â””â”€â”€ FlightWidget/                    # Widget Extension
    â”œâ”€â”€ FlightWidget.swift           # Widget ä¸»æª”æ¡ˆ
    â””â”€â”€ FlightWidgetBundle.swift
```

## ç›£æ§èˆªç·š

| å‡ºç™¼åœ° | ç›®çš„åœ° | æ©Ÿå ´ä»£ç¢¼ |
|--------|--------|----------|
| å°åŒ— (TPE) | ç¾…é¦¬ | FCO |
| å°åŒ— (TPE) | å·´é» | CDG |
| å°åŒ— (TPE) | è˜‡é»ä¸– | ZRH |
| å°åŒ— (TPE) | å€«æ•¦ | LHR |
| å°åŒ— (TPE) | é›·å…‹é›…ç¶­å…‹ | KEF |

## API ç”¨é‡ä¼°ç®—

| é …ç›® | æ•¸é‡ |
|------|------|
| èˆªç·šæ•¸ | 5 æ¢ |
| æ¯æ—¥æŸ¥è©¢ | 2 æ¬¡ (12:00, 18:00) |
| æ¯æ—¥ç¸½æŸ¥è©¢ | 10 æ¬¡ |
| æ¯æœˆç¸½æŸ¥è©¢ | ~300 æ¬¡ |

å»ºè­°ä½¿ç”¨ SerpApi ä»˜è²»æ–¹æ¡ˆä»¥æ”¯æ´å®Œæ•´åŠŸèƒ½ã€‚

## Widget é è¦½

### Medium Size
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœˆï¸ æ©Ÿç¥¨åƒ¹æ ¼ç›£æ§      æ›´æ–°: 12:00    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TPE â†’ FCO  ç¾…é¦¬      $28,500  â–¼-8%ğŸ””â”‚
â”‚ TPE â†’ CDG  å·´é»      $25,800  â–²+3%  â”‚
â”‚ TPE â†’ ZRH  è˜‡é»ä¸–    $32,000  â–¼-2%  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ³¨æ„äº‹é …

- API Key å„²å­˜åœ¨ macOS Keychain ä¸­ï¼Œå®‰å…¨æ€§è¼ƒé«˜
- Widget åˆ·æ–°ç”± macOS ç³»çµ±æ§åˆ¶ï¼Œå¯èƒ½èˆ‡è¨­å®šæ™‚é–“ç•¥æœ‰å·®ç•°
- é¦–æ¬¡ä½¿ç”¨éœ€æˆäºˆé€šçŸ¥æ¬Šé™

## License

MIT
